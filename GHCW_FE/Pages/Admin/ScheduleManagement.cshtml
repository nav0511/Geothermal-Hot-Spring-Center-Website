@page
@using GHCW_FE.DTOs
@using System.Text.Json
@using Microsoft.AspNetCore.Http
@model GHCW_FE.Pages.Admin.ScheduleManagementModel
@{
    ViewData["Title"] = "Quản lý lịch trình";
    Layout = "_LayoutManagement";
    ViewData["ActivePage"] = "/Admin/ScheduleManagement";
}

<!-- Main Content -->
<header class="page-header">
    <h2>Quản lý lịch trình</h2>
    <button class="btn-add" onclick="window.location.href='#'">+ Thêm lịch trình mới</button>
</header>

<div class="filter-container">
    <select id="yearFilter">
        <option value="2024">2024</option>
        <option value="2023">2023</option>
    </select>
    <select id="weekFilter">
        <option value="1">Tuần 1</option>
        <option value="2">Tuần 2</option>
        <!-- Thêm các tuần khác theo yêu cầu -->
    </select>
</div>

<div class="schedule-title">Lịch trình</div>

<!-- Bảng lịch tuần -->
<table class="schedule-table">
    <tr>
        <th>Ca/Ngày</th>
        <th>Thứ 2<br>07/10</th>
        <th>Thứ 3<br>08/10</th>
        <th>Thứ 4<br>09/10</th>
        <th>Thứ 5<br>10/10</th>
        <th>Thứ 6<br>11/10</th>
        <th>Thứ 7<br>12/10</th>
        <th>Chủ Nhật<br>13/10</th>
    </tr>
    <tr>
        <td><b>Ca 1</b><br>(7:00 - 15:00)</td>
        <td>Nguyen Minh K<br><a href="#">Sửa</a> | <a href="#">Xóa</a></td>
        <td>Quang Thi Quynh N<br><a href="#">Sửa</a> | <a href="#">Xóa</a></td>
        <td>Nguyen Minh K<br><a href="#">Sửa</a> | <a href="#">Xóa</a></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td><b>Ca 2</b><br>(15:00 - 22:00)</td>
        <td>Quang Thi Quynh N<br><a href="#">Sửa</a> | <a href="#">Xóa</a></td>
        <td>Nguyen Minh K<br><a href="#">Sửa</a> | <a href="#">Xóa</a></td>
        <td>Quang Thi Quynh N<br><a href="#">Sửa</a> | <a href="#">Xóa</a></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>

<script>
    // Get the profile icon and dropdown elements
    var profileIcon = document.getElementById("profileIcon");
    var dropdownMenu = document.getElementById("dropdownMenu");
    var profileMenu = document.querySelector(".profile-menu");

    // Toggle dropdown when the profile icon is clicked
    profileIcon.addEventListener("click", function (event) {
        event.stopPropagation();
        profileMenu.classList.toggle("show");
    });

    // Close the dropdown if user clicks outside
    window.addEventListener("click", function (event) {
        if (!event.target.matches('.profile-icon') && profileMenu.classList.contains('show')) {
            profileMenu.classList.remove('show');
        }
    });
</script>

<style>
    .btn-add {
        background-color: #42C2A8;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 16px;
    }

        .btn-add:hover {
            background-color: #37a58d;
        }



    /* Pagination */
    .pagination {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

        .pagination a {
            padding: 10px 15px;
            margin: 0 5px;
            background-color: #e0f7fa;
            text-decoration: none;
            color: black;
            border-radius: 4px;
        }

            .pagination a.active {
                background-color: #00b894;
                color: white;
            }

            .pagination a:hover {
                background-color: #019875;
                color: white;
            }

    /* CSS cho bảng lịch tuần */
    .schedule-table {
        width: 100%;
        margin-top: 20px;
        border-collapse: collapse;
        background-color: white;
    }

        .schedule-table th, .schedule-table td {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
        }

        .schedule-table th {
            background-color: #f1f1f1;
            color: #333;
        }

    /* Dropdown cho năm và tuần */
    .filter-container {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 10px;
        margin-bottom: 20px;
    }

        .filter-container select {
            padding: 8px;
            border-radius: 8px;
        }

    .schedule-title {
        color: #28a745; /* Màu xanh */
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 10px;
    }
</style>